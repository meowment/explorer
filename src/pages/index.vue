<script lang="ts" setup>
  import { Icon } from '@iconify/vue';
  import {
    useDashboard,
    LoadingStatus,
    type ChainConfig,
  } from '@/stores/useDashboard';
  import ChainSummary from '@/components/ChainSummary.vue';
  import { computed, ref } from 'vue';
  import { useBlockchain } from '@/stores';
  
  const dashboard = useDashboard();
  
  const keywords = ref('');
  const chains = computed(() => {
    if (keywords.value) {
      return Object.values(dashboard.chains).filter(
        (x: ChainConfig) => x.chainName.indexOf(keywords.value) > -1
      );
    } else {
      return Object.values(dashboard.chains);
    }
  });
  const chainStore = useBlockchain()
  </script>
  <template>
    <div class="">
      <div class="flex md:!flex-row flex-col items-center justify-center mb-6 mt-14 gap-2">
        <div class="w-16 rounded-full">
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="100" height="100">
            <path d="M0 0 C66.66 0 133.32 0 202 0 C202 66.66 202 133.32 202 202 C135.34 202 68.68 202 0 202 C0 135.34 0 68.68 0 0 Z " fill="#FDFDFD" transform="translate(0,0)"/>
            <path d="M0 0 C2.01551819 0.17304993 2.01551819 0.17304993 4 1 C5.36882136 3.52492693 6.45085096 5.88630773 7.49609375 8.54296875 C7.81151627 9.30418533 8.12693878 10.06540192 8.45191956 10.84968567 C9.46164165 13.28995272 10.45118131 15.73768917 11.4375 18.1875 C12.42172297 20.61875502 13.41045887 23.04773251 14.41236877 25.47175598 C15.03531083 26.97998941 15.64816824 28.49244184 16.24913025 30.00956726 C18.21338415 34.77982925 20.535739 38.17306362 24 42 C29.36146007 49.14861343 29.87468834 59.36888413 29 68 C28.05735619 71.5349143 26.63668583 74.72662834 25 78 C3.88 78 -17.24 78 -39 78 C-43.40071986 66.99820036 -43.40071986 66.99820036 -43.3125 61.5625 C-43.64899133 52.46788699 -46.1339608 44.01501878 -48.56176758 35.27954102 C-49.02812622 33.59042603 -49.02812622 33.59042603 -49.50390625 31.8671875 C-49.79080322 30.85769043 -50.0777002 29.84819336 -50.37329102 28.80810547 C-50.97758152 26.10045087 -51.12108115 23.76242055 -51 21 C-49.68 20.67 -48.36 20.34 -47 20 C-46.46890625 20.73605469 -45.9378125 21.47210938 -45.390625 22.23046875 C-42.76383658 25.27359455 -40.12696051 27.14684054 -36.75 29.3125 C-35.67234375 30.00988281 -34.5946875 30.70726562 -33.484375 31.42578125 C-32.66453125 31.94527344 -31.8446875 32.46476562 -31 33 C-30.39414063 32.59007812 -29.78828125 32.18015625 -29.1640625 31.7578125 C-21.17715773 26.62161835 -14.44907344 24.8634527 -5 25 C-4.91959473 24.31373535 -4.83918945 23.6274707 -4.75634766 22.92041016 C-4.38813511 19.82080639 -4.00673983 16.72296558 -3.625 13.625 C-3.49867187 12.54476562 -3.37234375 11.46453125 -3.2421875 10.3515625 C-3.11328125 9.3203125 -2.984375 8.2890625 -2.8515625 7.2265625 C-2.73635254 6.27346191 -2.62114258 5.32036133 -2.50244141 4.33837891 C-2 2 -2 2 0 0 Z " fill="#010101" transform="translate(119,124)"/>
            <path d="M0 0 C0.33 0 0.66 0 1 0 C1 27.39 1 54.78 1 83 C-13.60087209 83 -13.60087209 83 -18.296875 78.7578125 C-18.85890625 78.17773438 -19.4209375 77.59765625 -20 77 C-20.54140625 76.48179687 -21.0828125 75.96359375 -21.640625 75.4296875 C-24.63301975 72.30127481 -26.42129221 69.2419603 -28.0625 65.25 C-30.513852 59.48493112 -33.83662449 54.51391453 -37.375 49.375 C-37.91648682 48.58770508 -38.45797363 47.80041016 -39.01586914 46.98925781 C-42.39977189 42.13732727 -45.95655865 37.5293014 -49.79931641 33.02978516 C-51 31 -51 31 -50.68896484 28.73974609 C-50.46160645 28.16562988 -50.23424805 27.59151367 -50 27 C-44.58609855 27.68302874 -39.36322421 28.77706302 -34.0625 30.0625 C-33.28326172 30.24876953 -32.50402344 30.43503906 -31.70117188 30.62695312 C-29.80010303 31.08181009 -27.89995343 31.5405062 -26 32 C-25.27683594 30.92492187 -24.55367187 29.84984375 -23.80859375 28.7421875 C-21.54921305 25.58493956 -19.2891029 23.33723642 -16.0625 21.125 C-15.24910156 20.55007812 -14.43570313 19.97515625 -13.59765625 19.3828125 C-10.70466013 17.84278148 -8.2392259 17.36777237 -5 17 C-4.89042969 16.35933594 -4.78085938 15.71867188 -4.66796875 15.05859375 C-3.67539672 9.6438309 -2.37541347 4.96677361 0 0 Z " fill="#010101" transform="translate(201,119)"/>
            <path d="M0 0 C3.57919162 3.35025199 6.1207883 6.52579411 8.48046875 10.81640625 C9.08697266 11.91017578 9.69347656 13.00394531 10.31835938 14.13085938 C10.93517578 15.26330078 11.55199219 16.39574219 12.1875 17.5625 C12.81591797 18.69880859 13.44433594 19.83511719 14.09179688 21.00585938 C15.74168265 23.99682877 17.38462077 26.99025867 19 30 C19.39356689 30.71534912 19.78713379 31.43069824 20.19262695 32.16772461 C21 34 21 34 21 37 C14.25 41 14.25 41 12 41 C11.62488281 40.2265625 11.24976563 39.453125 10.86328125 38.65625 C7.8596347 32.54303485 4.72756938 26.70098847 1 21 C-2.82956378 25.39326125 -5.48491627 30.2204054 -8.25 35.3125 C-8.93835937 36.56643555 -8.93835937 36.56643555 -9.640625 37.84570312 C-10.76471849 39.89483188 -11.88435756 41.94626165 -13 44 C-17 44 -17 44 -18.92285156 42.53125 C-19.89689941 41.52578125 -19.89689941 41.52578125 -20.890625 40.5 C-21.59960938 39.778125 -22.30859375 39.05625 -23.0390625 38.3125 C-23.76867187 37.549375 -24.49828125 36.78625 -25.25 36 C-25.99507812 35.236875 -26.74015625 34.47375 -27.5078125 33.6875 C-29.34782184 31.80031094 -31.17787227 29.90443371 -33 28 C-34.67215029 31.34430059 -34.34343603 35.12744803 -34.5 38.8125 C-34.92025893 48.56406379 -34.92025893 48.56406379 -36 53 C-39.96 52.505 -39.96 52.505 -44 52 C-44.40133732 37.01056568 -43.56201578 22.77734102 -41 8 C-36.00800294 12.22884204 -31.15290469 16.57578634 -26.36328125 21.03125 C-23.33882999 23.82669582 -20.22729812 26.44355619 -17 29 C-16.59160889 28.29915283 -16.18321777 27.59830566 -15.76245117 26.8762207 C-13.90446349 23.68812172 -12.04598665 20.50030814 -10.1875 17.3125 C-9.54490234 16.20970703 -8.90230469 15.10691406 -8.24023438 13.97070312 C-7.30727539 12.3706543 -7.30727539 12.3706543 -6.35546875 10.73828125 C-5.78465576 9.75899658 -5.21384277 8.77971191 -4.62573242 7.77075195 C-3.10002441 5.17047259 -1.55595627 2.58226915 0 0 Z " fill="#070707" transform="translate(44,58)"/>
            <path d="M0 0 C4.04925559 3.56720135 7.1967155 6.75282387 7.86328125 12.29296875 C8.06015861 18.14747963 7.19708924 22.57299613 3.625 27.3125 C-1.60593996 32.33197643 -7.07752389 35.24522872 -14.375 35.6875 C-19.70952569 35.5449745 -22.82637987 32.69370173 -26.6875 29.25 C-30.16961999 25.25201038 -29.8257598 20.45264257 -29.7890625 15.39453125 C-28.97156754 9.30959233 -25.14028829 5.94862085 -20.8125 1.9375 C-14.35114132 -2.37007245 -7.10012266 -3.55006133 0 0 Z " fill="#070707" transform="translate(138.375,71.6875)"/>
            <path d="M0 0 C4.35699098 2.46622131 7.04335342 5.33670683 9.3125 9.875 C9.68422047 13.81523694 9.72541829 16.14826381 7.75 19.625 C2.95831929 24.04808989 -2.08448314 25.432142 -8.46484375 25.24609375 C-12.13920767 24.6326235 -14.62873642 22.95756243 -17.6875 20.875 C-17.45813276 24.31550866 -17.29588078 26.26661922 -14.8125 28.75 C-8.89553246 30.88010831 -2.71527649 30.38194412 3.3125 28.875 C3.9725 31.845 4.6325 34.815 5.3125 37.875 C-0.81567456 41.00428062 -6.00402625 41.91770288 -12.79296875 40.40625 C-17.87565343 38.75462326 -22.2077367 35.9566683 -25.6875 31.875 C-28.42726081 26.3678969 -28.53344131 20.89390983 -27.6875 14.875 C-25.01053026 7.97775412 -21.00733895 3.57150957 -14.6875 -0.125 C-9.48953613 -1.85765462 -5.1467454 -1.57019351 0 0 Z " fill="#080808" transform="translate(94.6875,69.125)"/>
            <path d="M0 0 C4.75 0.875 4.75 0.875 7 2 C7.24896559 7.13491529 6.65118746 10.67171955 4.59375 15.37109375 C4.09746094 16.52158203 3.60117188 17.67207031 3.08984375 18.85742188 C2.56519531 20.03884766 2.04054687 21.22027344 1.5 22.4375 C0.97535156 23.64599609 0.45070312 24.85449219 -0.08984375 26.09960938 C-1.3819877 29.07154045 -2.68561047 32.03785668 -4 35 C-4.99 35 -5.98 35 -7 35 C-8.68377756 33.09467276 -10.15331934 31.24547925 -11.625 29.1875 C-12.03234375 28.64029297 -12.4396875 28.09308594 -12.859375 27.52929688 C-14.68652523 25.03360327 -16.01574466 22.95276602 -17 20 C-19.69603158 21.34801579 -19.95822322 22.73367846 -21.1640625 25.47265625 C-21.76347656 26.82133789 -21.76347656 26.82133789 -22.375 28.19726562 C-22.7875 29.14279297 -23.2 30.08832031 -23.625 31.0625 C-24.04523438 32.01189453 -24.46546875 32.96128906 -24.8984375 33.93945312 C-25.93808963 36.29048464 -26.97164456 38.64401051 -28 41 C-28.66 41 -29.32 41 -30 41 C-32.10070814 37.22863794 -34.20028392 33.45664843 -36.29882812 29.68408203 C-37.01238678 28.40168374 -37.72625063 27.11945522 -38.44042969 25.83740234 C-39.46890919 23.99100948 -40.4962774 22.1440021 -41.5234375 20.296875 C-42.14138184 19.18666992 -42.75932617 18.07646484 -43.39599609 16.93261719 C-44.64912447 14.64150941 -45.85647928 12.34696393 -47 10 C-41.375 6 -41.375 6 -38 6 C-35.36 10.62 -32.72 15.24 -30 20 C-29.05125 18.123125 -28.1025 16.24625 -27.125 14.3125 C-26.59132812 13.25675781 -26.05765625 12.20101562 -25.5078125 11.11328125 C-24.21311895 8.44004095 -23.05976746 5.7728867 -22 3 C-17.81931497 4.51764593 -15.83483728 7.55723188 -13.375 11.0625 C-10.73734841 15.12014075 -10.73734841 15.12014075 -7 18 C-6.82984375 17.45472656 -6.6596875 16.90945312 -6.484375 16.34765625 C-4.67459186 10.71615022 -2.49654622 5.36060431 0 0 Z " fill="#070707" transform="translate(195,70)"/>
            <path d="M0 0 C3.04575642 2.56120426 4.73506553 4.20519658 6 8 C6.37066773 13.00401435 6.09881835 15.98301324 3 20 C-0.51824511 22.34549674 -1.85775694 22.57991403 -6 22 C-8.96292656 19.95887281 -10.62103143 18.36084167 -11.6015625 14.83984375 C-12.2253428 10.49514145 -12.46373868 6.80759614 -10 3 C-6.72620535 0.43405284 -4.14872151 -0.8297443 0 0 Z " fill="#FFFFFF" transform="translate(123,157)"/>
            <path d="M0 0 C2.62941545 2.62941545 3.87338559 4.5064667 4.19140625 8.2578125 C3.97204438 12.28609411 3.44721855 14.44755356 0.875 17.625 C-2.99949876 19.47802115 -4.93250959 19.33117868 -9 18 C-11.69966307 15.02344841 -12.83983465 12.9609921 -13.5 9 C-12.86619108 5.19714649 -11.37421663 3.00268574 -9 0 C-5.74048884 -1.62975558 -3.45293671 -0.89300087 0 0 Z " fill="#FFFFFF" transform="translate(100,168)"/>
            <path d="M0 0 C2.375 1.625 2.375 1.625 4 4 C4.64797948 7.80687944 4.33833198 9.44864418 2.3125 12.75 C-0.81642688 15.79436129 -3.31634839 16.71254729 -7.5625 17.4375 C-10 17 -10 17 -12.375 14.9375 C-14 12 -14 12 -14.1875 8.5 C-12.80525637 4.42601878 -11.48241622 3.09593176 -7.90625 0.8828125 C-5.03490571 -0.4469494 -3.09567743 -0.61913549 0 0 Z " fill="#F6F6F6" transform="translate(132,80)"/>
            <path d="M0 0 C2.40346379 2.40346379 2.32083747 3.13900195 2.375 6.4375 C2.25977203 10.64671004 2.25977203 10.64671004 0.4375 13.125 C-3.09046549 14.39144915 -5.41378422 13.97805885 -9 13 C-11 11.375 -11 11.375 -12 9 C-11.93439072 5.260271 -11.76345433 2.9396361 -9.375 0 C-5.95223815 -1.44116288 -3.55394628 -0.85557966 0 0 Z " fill="#000000" transform="translate(200,167)"/>
            <path d="M0 0 C2.97454134 0.32157204 4.59335278 0.62139742 6.8125 2.6875 C8.3863876 5.75243901 8.48701495 7.59089535 8 11 C6 13.875 6 13.875 4 16 C1.02545866 15.67842796 -0.59335278 15.37860258 -2.8125 13.3125 C-4.3863876 10.24756099 -4.48701495 8.40910465 -4 5 C-2 2.125 -2 2.125 0 0 Z " fill="#000000" transform="translate(118,160)"/>
            <path d="M0 0 C0.99 0.66 1.98 1.32 3 2 C2.67 3.32 2.34 4.64 2 6 C1.01 5.34 0.02 4.68 -1 4 C-4.57176115 4.08167489 -4.57176115 4.08167489 -8 5 C-10.36139302 7.89461901 -10.36139302 7.89461901 -9.8125 11.5625 C-9.35160238 15.25825752 -9.35160238 15.25825752 -6 17 C-1.34184319 16.59404786 -1.34184319 16.59404786 3 15 C2.67 16.65 2.34 18.3 2 20 C-5.1924505 21.34096535 -5.1924505 21.34096535 -8.8125 19.8125 C-12.37121354 16.86385164 -13.80649147 15.30618256 -14.5 10.625 C-13.84053371 5.84386936 -12.37565893 4.37565893 -9 1 C-5.98131566 -0.50934217 -3.32702771 -0.17510672 0 0 Z " fill="#FFFFFF" transform="translate(199,163)"/>
            <path d="M0 0 C2.375 0.9375 2.375 0.9375 4.375 3.9375 C4.84437082 7.61423806 4.81909864 9.29602418 2.6875 12.375 C0.375 13.9375 0.375 13.9375 -2.25 13.875 C-4.625 12.9375 -4.625 12.9375 -6.625 9.9375 C-7.09437082 6.26076194 -7.06909864 4.57897582 -4.9375 1.5 C-2.625 -0.0625 -2.625 -0.0625 0 0 Z " fill="#000000" transform="translate(96.625,170.0625)"/>
            <path d="M0 0 C1.4370809 -0.05422947 2.87475462 -0.09289723 4.3125 -0.125 C5.11300781 -0.14820312 5.91351563 -0.17140625 6.73828125 -0.1953125 C9 0 9 0 12 2 C11.65660347 4.57547398 11.39993284 5.68894113 9.3125 7.3125 C6.18294924 8.24290698 4.12833137 7.86528315 1 7 C-0.875 5.4375 -0.875 5.4375 -2 4 C-1.34 2.68 -0.68 1.36 0 0 Z " fill="#F1F1F1" transform="translate(83,78)"/>
            <path d="M0 0 C2.61666628 2.61666628 3.71634007 5.64348017 5.125 9 C5.54072266 9.96292969 5.54072266 9.96292969 5.96484375 10.9453125 C8 15.73745382 8 15.73745382 8 18 C4.7 17.01 1.4 16.02 -2 15 C-1.85816304 13.24967156 -1.71136571 11.49974466 -1.5625 9.75 C-1.48128906 8.77546875 -1.40007812 7.8009375 -1.31640625 6.796875 C-1.04925416 4.43538247 -0.64628032 2.28098935 0 0 Z " fill="#F8F8F8" transform="translate(121,135)"/>
            <path d="M0 0 C5.94 1.485 5.94 1.485 12 3 C11.67 6.3 11.34 9.6 11 13 C10.01 13 9.02 13 8 13 C5.95703125 10.6640625 5.95703125 10.6640625 3.8125 7.625 C2.73935547 6.12839844 2.73935547 6.12839844 1.64453125 4.6015625 C0 2 0 2 0 0 Z " fill="#F6F6F6" transform="translate(160,153)"/>
            <path d="M0 0 C2.97 1.65 5.94 3.3 9 5 C9 9.24645065 7.18249194 11.38524772 5 15 C4.34 14.67 3.68 14.34 3 14 C2.37147066 11.66752185 1.84464754 9.30708533 1.375 6.9375 C1.11460938 5.64714844 0.85421875 4.35679687 0.5859375 3.02734375 C0.39257812 2.02832031 0.19921875 1.02929688 0 0 Z " fill="#FBFBFA" transform="translate(75,155)"/>
            <path d="M0 0 C0.66 0 1.32 0 2 0 C3.23004981 2.46009963 3.13314027 4.13172806 3.125 6.875 C3.12757812 7.73867188 3.13015625 8.60234375 3.1328125 9.4921875 C3.01023921 11.80665971 2.64966445 13.78289116 2 16 C1.01 16 0.02 16 -1 16 C-1.11138159 10.54230189 -0.91657981 5.38490641 0 0 Z " fill="#1D1D1D" transform="translate(121,30)"/>
            <path d="M0 0 C4.21543758 1.50551342 5.86049125 4.17944866 8 8 C8 9.32 8 10.64 8 12 C4.1519937 10.5404114 2.78793456 8.66100886 1 5 C0.3125 2.1875 0.3125 2.1875 0 0 Z " fill="#121312" transform="translate(101,39)"/>
            <path d="M0 0 C3.77545388 1.09068668 6.47043472 1.9083091 9 5 C8.34 5.66 7.68 6.32 7 7 C4.0574037 6.69347955 1.65457692 6.32728846 -1 5 C-0.67 3.35 -0.34 1.7 0 0 Z " fill="#212121" transform="translate(91,53)"/>
            <path d="M0 0 C0.3125 2.25 0.3125 2.25 0 5 C-2.3125 7.3125 -2.3125 7.3125 -5 9 C-5.99 9 -6.98 9 -8 9 C-7.53918323 4.85264908 -4.48412936 0 0 0 Z " fill="#191919" transform="translate(162,42)"/>
            <path d="M0 0 C0.66 0 1.32 0 2 0 C1.40895235 4.84659077 0.02055843 8.60748167 -2 13 C-2.99 12.67 -3.98 12.34 -5 12 C-4.42365861 7.24518354 -2.44931479 4.02951788 0 0 Z " fill="#1D1D1D" transform="translate(143,33)"/>
            <path d="M0 0 C0.33 1.32 0.66 2.64 1 4 C-2.61973402 5.31626692 -5.09567131 6 -9 6 C-9 5.01 -9 4.02 -9 3 C-3.375 0 -3.375 0 0 0 Z " fill="#131313" transform="translate(173,55)"/>
          </svg>
        </div>
        <h1 class="text-primary dark:invert text-3xl md:!text-6xl font-bold">
          {{ $t('pages.title') }}
        </h1>
        <div class="badge badge-primary badge-outline dark:invert mt-1 text-sm md:!mt-8">
          {{ $t('pages.tag') }}
        </div>
      </div>
      <div class="text-center text-base">
        <p class="mb-1">
          {{ $t('pages.slogan') }}
        </p>
        <h2 class="mb-6">{{ $t('pages.description') }}</h2>
      </div>
      <div
        v-if="dashboard.status !== LoadingStatus.Loaded"
        class="flex justify-center"
      >
        <progress class="progress progress-info w-80 h-1"></progress>
      </div>
  
      <div class="flex items-center rounded-lg bg-base-100  border border-gray-200 dark:border-gray-700 mt-10">
        <Icon icon="mdi:magnify" class="text-2xl text-gray-400 ml-3"/>
        <input :placeholder="$t('pages.search_placeholder')" class="px-4 h-10 bg-transparent flex-1 outline-none text-base" v-model="keywords" />
        <div class="px-4 text-base hidden md:!block">{{ chains.length }}/{{ dashboard.length }}</div>
      </div>
  
      <div
        class="grid grid-cols-1 gap-4 mt-6 md:!grid-cols-3 lg:!grid-cols-4 2xl:!grid-cols-5"
      >
        <ChainSummary
          v-for="(chain, index) in chains"
          :key="index"
          :name="chain.chainName"
        />
      </div>
    </div>
  </template>
  
  <style scoped>
   .logo path{
    fill: #131313;
  }
  </style>
  
